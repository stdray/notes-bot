# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞

## –û–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã

1. **–°–ª–µ–¥—É–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º –ø—Ä–∏–Ω—Ü–∏–ø–∞–º –ø—Ä–æ–µ–∫—Ç–∞** - —Å—Ç—Ä–æ–≥–æ —Å–æ–±–ª—é–¥–∞–π Screaming Architecture + Vertical Slice Architecture

2. **–ò—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏** - Rebus (–Ω–µ MediatR), Mapperly (–Ω–µ AutoMapper), OpenAI

3. **–°–æ–±–ª—é–¥–∞–π —Å—Ç–∏–ª—å –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è** - –æ—Ç—Å—Ç—É–ø—ã 2 –ø—Ä–æ–±–µ–ª–∞, —à–∏—Ä–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏ 100 —Å–∏–º–≤–æ–ª–æ–≤, record —Ç–∏–ø—ã, –ø–µ—Ä–≤–∏—á–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã

4. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞** - –∫–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å ChatId, MessageId, CorrelationId

5. **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - Started/Completed/Failed processing –≤ –∫–∞–∂–¥–æ–º handler'–µ

6. **–û–¥–∏–Ω —Å–ª–∞–π—Å = –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å** - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–ª–∞–π—Å–∞–º–∏

7. **Self-contained slices** - –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è —Ñ–∏—á–∏ –≤ –æ–¥–Ω–æ–π –ø–∞–ø–∫–µ

8. **–î–æ–±–∞–≤—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é —Ñ–∞–π–ª prompt_history.md –∏ –¥–æ–±–∞–≤–ª—è–π –≤ –Ω–µ–≥–æ –≤—Å–µ —Ç–æ —á—Ç–æ —è –Ω–∞–ø–∏—à—É –≤ —á–∞—Ç–µ**

9. **–°–Ω–∞—á–∞–ª–∞ –¥–µ–ª–∞–π –ø—Ä–æ—Å—Ç—ã–µ –≤–µ—â–∏. –ò—Å–ø–æ–ª—å–∑—É–π –º–æ–¥—É–ª–∏ –≤–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞.**

10. **–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –ø–∏—à–∏ —Å–≤–æ—é —Å—Ç–µ–ø–µ–Ω—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –æ—Ç 0 –¥–æ 100%, –ï—Å–ª–∏ –Ω–µ —É–≤–µ—Ä–µ–Ω —Ö–æ—Ç—è –±—ã –Ω–∞ 80%, –∑–∞–¥–∞–≤–∞–π –º–Ω–µ —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã, –ø—Ä–µ–∂–¥–µ —á–µ–º —á—Ç–æ-—Ç–æ –¥–µ–ª–∞—Ç—å**

11. **–í–Ω–æ—Å–∏ —Ç–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –∫–æ–¥ –∫–æ–º–º–µ–Ω—Ç—Ä–∏—É–π —Ç–∞–∫ —á—Ç–æ–±—ã —Ç–µ–±–µ –±—ã–ª–æ –ø—Ä–æ—â–µ –ø–æ—Ç–æ–º —Å –Ω–∏–º —Ä–∞–±–æ—Ç–∞—Ç—å**

12. **–ï—Å–ª–∏ –Ω–∞–¥–æ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ä—É–π –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã –Ω–∞ –±–æ–ª–µ–µ –º–µ–ª–∫–µ, –µ—Å–ª–∏ —Ç–µ–±–µ –±—É–¥–µ—Ç —Ç–∞–∫ –ø—Ä–æ—â–µ**

13. **–ù–µ –ø–∏—à–∏ –¥—É–±–ª–∏—Ä—É—é—â–∏–π—Å—è –∫–æ–¥ - –∏—â–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä–µ—à–µ–Ω–∏—è –≤ –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ.**

14. **–ò—Å–ø–æ–ª—å–∑—É–π –≤—Å–µ–≥–¥–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∏ –ø—Ä–æ–≤–µ—Ä—è–π —á—Ç–æ –æ–Ω–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ**

15. **–ò—Å–ø–æ–ª—å–∑—É–π context7 –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫**
    - –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π mcp_context7_resolve-library-id –ø–µ—Ä–µ–¥ –ø–æ–ª—É—á–µ–Ω–∏–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
    - –ò—Å–ø–æ–ª—å–∑—É–π mcp_context7_get-library-docs –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –∫–æ–¥–∞
    - –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é —É—Å—Ç–∞—Ä–µ–≤—à–∏–º –ø—Ä–∏–º–µ—Ä–∞–º

## –ü—Ä–∞–≤–∏–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è context7

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å context7:
- –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –Ω–æ–≤—ã–º–∏ –∏–ª–∏ –Ω–µ–∑–Ω–∞–∫–æ–º—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏
- –ö–æ–≥–¥–∞ –Ω—É–∂–Ω—ã –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞
- –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏
- –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

### –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã —Å context7:
1. **–°–Ω–∞—á–∞–ª–∞ resolve-library-id** –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ—á–Ω–æ–≥–æ ID –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
2. **–ó–∞—Ç–µ–º get-library-docs** —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç–µ–º–æ–π
3. **–ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∑–Ω–∞–Ω–∏—è** –≤ –∫–æ–¥–µ

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
```
1. mcp_context7_resolve-library-id: "Telegram.Bot"
2. mcp_context7_get-library-docs: "/telegram/telegram.bot" topic: "polling setup"
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–¥ —Å–æ–≥–ª–∞—Å–Ω–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –∫–∞–∂–¥–æ–º –æ—Ç–≤–µ—Ç–µ:
- –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- –°—Ç–µ–ø–µ–Ω—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ (0-100%)
- –£—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –ø—Ä–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ < 80%

### –§–æ—Ä–º–∞—Ç —Å—Ç–µ–ø–µ–Ω–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏:
```
üéØ –°—Ç–µ–ø–µ–Ω—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏: 95%
```

### –§–æ—Ä–º–∞—Ç —É—Ç–æ—á–Ω—è—é—â–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤:
```
‚ùì –£—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã:
1. –í–æ–ø—Ä–æ—Å 1?
2. –í–æ–ø—Ä–æ—Å 2?
```

## –ü—Ä–∞–≤–∏–ª–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–¥–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–ª–∞–π—Å–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è):
```
FeatureName/
‚îú‚îÄ‚îÄ {FeatureName}Command.cs          // Rebus message
‚îú‚îÄ‚îÄ {FeatureName}Handler.cs          // IHandleMessages<T>
‚îú‚îÄ‚îÄ {FeatureName}Service.cs          // Core business logic
‚îú‚îÄ‚îÄ {FeatureName}Mapper.cs           // Mapperly mapper
‚îú‚îÄ‚îÄ {FeatureName}Validator.cs        // FluentValidation
‚îú‚îÄ‚îÄ {FeatureName}ServiceExtensions.cs // DI registration
‚îî‚îÄ‚îÄ {FeatureName}Tests.cs            // Unit tests
```

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö:
```csharp
public record SomeCommand(
  // –ë–∏–∑–Ω–µ—Å-–¥–∞–Ω–Ω—ã–µ
  string SomeData,
  // –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏
  long ChatId,
  string MessageId,
  string CorrelationId);
```

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Handler'–∞:
```csharp
public class SomeHandler(
  ISomeService service,
  ILogger<SomeHandler> logger) : IHandleMessages<SomeCommand>
{
  public async Task Handle(SomeCommand message)
  {
    // 1. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—á–∞–ª–∞
    logger.LogInformation("Started processing {MessageType} for ChatId {ChatId} | {CorrelationId}", 
      nameof(SomeCommand), message.ChatId, message.CorrelationId);

    try
    {
      // 2. –í–∞–ª–∏–¥–∞—Ü–∏—è
      // 3. –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
      // 4. –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
      
      // 5. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—Ö–∞
      logger.LogInformation("Completed processing {MessageType} for ChatId {ChatId} | {CorrelationId}", 
        nameof(SomeCommand), message.ChatId, message.CorrelationId);
    }
    catch (Exception ex)
    {
      // 6. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–∫–∏
      logger.LogError(ex, "Failed processing {MessageType} for ChatId {ChatId} | {CorrelationId}", 
        nameof(SomeCommand), message.ChatId, message.CorrelationId);
      throw;
    }
  }
}
```

## –ü—Ä–∞–≤–∏–ª–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ prompt_history.md
- –î–æ–±–∞–≤–ª—è—Ç—å –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã
- –£–∫–∞–∑—ã–≤–∞—Ç—å –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ —Ç–µ–º–∞–º/—Ñ–∏—á–∞–º

### –ö–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- –û–±—ä—è—Å–Ω—è—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É, –∞ –Ω–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
- –£–∫–∞–∑—ã–≤–∞—Ç—å —Å–≤—è–∑–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã

## –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –æ—Ç–≤–µ—Ç–æ–º

- [ ] –°–æ–±–ª—é–¥–µ–Ω —Å—Ç–∏–ª—å –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è (2 –ø—Ä–æ–±–µ–ª–∞, 100 —Å–∏–º–≤–æ–ª–æ–≤)
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (Rebus, Mapperly)
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ Started/Completed/Failed
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏
- [ ] –£–∫–∞–∑–∞–Ω–∞ —Å—Ç–µ–ø–µ–Ω—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
- [ ] –ó–∞–¥–∞–Ω—ã —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –ø—Ä–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ < 80%
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω prompt_history.md (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 26 —Å–µ–Ω—Ç—è–±—Ä—è 2025  
**–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å:** –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤